<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/customStyling.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>DelDel</title>
  <style>
    .card-img-top {
      height: 320px;
      object-fit: cover;
    }
  </style>
</head>

<body>
  <!--Navigation Bar-->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #640F05;">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <img src="/images/DelDel_Icon1.png" alt="DelDel Logo" style="margin-left: 10px;" height="20px">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
 
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="/addProduct">favourites</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/addProduct">add recipe</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/logout">logout</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                dropdown
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#">disabled</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="search" aria-label="search">
            <button class="btn btn-outline-light" type="submit">
              <img src="https://i.postimg.cc/DfG0YzG1/Square-Icon-1-removebg-preview.png" alt="Search" style="width:20px; height:20px;">
            </button>
          </form>
        </div>
      </div>
    </nav>
 
    <!--Recipe Images Carousel/Slideshow-->
    <div id="carouselExampleCaptions" class="carousel slide">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://i.pinimg.com/1200x/ce/7d/2e/ce7d2ee0b36d520ea5bc9735907e38cc.jpg"
          class="d-block w-100"
          style="height: 450px; object-fit: cover;"
          alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h5>First slide label</h5>
            <p>Some representative placeholder content for the first slide.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://ichef.bbci.co.uk/food/ic/food_16x9_1600/recipes/oriental_vegetable_99308_16x9.jpg"
          class="d-block w-100"
          style="height: 450px; object-fit: cover;"
          alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h5>Second slide label</h5>
            <p>Some representative placeholder content for the second slide.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://thecozyapron.com/wp-content/uploads/2019/05/twice-baked-potatoes_thecozyapron_1.jpg"
          class="d-block w-100"
          style="height: 450px; object-fit: cover;"
          alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h5>Third slide label</h5>
            <p>Some representative placeholder content for the third slide.</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
 
 
    <!-- HARDCODED: Bad Practice: I will refactor these codes soon, I'm experimenting with the layout - Le Ying -->
    <div class="container my-5" style="text-align: center;">
      <h1><b>Food Categories</b></h1>
   
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 28px; margin-top: 20px;">
   
        <!-- Circle Image Displays -->
        <div style="text-align: center; width: 200px;">
          <img src="https://i.pinimg.com/736x/0c/1d/38/0c1d38bdfdf26612f22e6700b12a944c.jpg" class="rounded-circle"
            alt="circle1" style="width: 200px; height: 200px; object-fit: cover;">
          <p><a href="#"><b>Desserts</b></a></p>
        </div>
   
        <div style="text-align: center; width: 200px;">
          <img src="https://i.pinimg.com/1200x/83/df/fd/83dffd677057eb837bbae05dd2d209aa.jpg" class="rounded-circle"
            alt="circle2" style="width: 200px; height: 200px; object-fit: cover;">
          <p><a href="#"><b>Soups</b></a></p>
        </div>
   
        <div style="text-align: center; width: 200px;">
          <img src="https://i.pinimg.com/1200x/9f/aa/b6/9faab6f2433ffca63434f6238cb7f66b.jpg" class="rounded-circle"
            alt="circle3" style="width: 200px; height: 200px; object-fit: cover;">
          <p><a href="#"><b>Breakfast</b></a></p>
        </div>
   
        <div style="text-align: center; width: 200px;">
          <img src="https://i.pinimg.com/736x/d7/ad/31/d7ad31ecf53962cd1067748e22ee2231.jpg" class="rounded-circle"
            alt="circle4" style="width: 200px; height: 200px; object-fit: cover;">
          <p><a href="#"><b>Salads</b></a></p>
        </div>
   
        <div style="text-align: center; width: 200px;">
          <img src="https://i.pinimg.com/736x/e1/11/d9/e111d9b18dd5e30ab5facd51aa2bb491.jpg" class="rounded-circle"
            alt="circle5" style="width: 200px; height: 200px; object-fit: cover;">
          <p><a href="#"><b>Breakfast</b></a></p>
        </div>
   
      </div>
    </div>

    <!-- Refactored UPDATE - Le Ying -->
    <div class="container my-5" style="text-align: center;">
      <h1><b>Food Categories</b></h1>
    
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 28px; margin-top: 20px;">
        <% categories.forEach(category=> { %>
          <div style="text-align: center; width: 200px;">
            <img src="<%= category.image %>" class="rounded-circle" alt="<%= category.name %>"
              style="width: 200px; height: 200px; object-fit: cover;">
            <p><a href="#"><b>
                  <%= category.name %>
                </b></a></p>
          </div>
          <% }) %>
      </div>
    </div>


    <div class="container mt-4">
      <div class="row">
        <% recipes.forEach(recipe=> { %>
          <div class="col-md-3 mb-4">
            <div class="card">
              <img src="<%= recipe.recipeImage %>" class="card-img-top" alt="<%= recipe.recipeTitle %>">
              <div class="card-body">
                <div class="d-flex justify-content-between"> <!-- Pushes Items to the Edges Horizontally -->
                  <h5 class="card-title"><%= recipe.title %></h5>
                  <a href="#" style="text-decoration: none;">ðŸ’—</a>
                </div>
                
                <p class="card-text"><%= recipe.description %></p>
                <a href="#" class="btn btn-yellow">Rate</a>
                <a href="#" class="btn btn-orange">Review</a>
                <a href="#" class="btn btn-pink">ðŸ’—</a>
              </div>
            </div>
          </div>
          <% }) %>
      </div>
    </div>

    <div class="container">
    <p>Welcome, <%= user.username %> (<%= user.role %>)</p>
    <br>
    <div class="text-center"><h2>Recipes from DelDel App Database</h2></div>
    <br>
    <table class="table table-hover small text-center">
      <thead>
          <tr>
            <th width="100">Recipe Title</th>
            <th width="100">Recipe Image</th>
            <th width="50">Quantity</th>
            <th width="50">Price</th>
            <th width="50">Edit</th>
            <th width="50">Delete</th>
          </tr>
      </thead>
      <tbody>
        <% for(let i=0; i < products.length; i++) { %>
          <tr>
            <td><a href="/product/<%= products[i].productId %>" ><%= products[i].productName %></a></td>
            <td><img src = "images/<%= products[i].image %>" width="20%"></td>
            <td><%= recipes[i].quantity %></td>
            <td>$<%= recipes[i].price.toFixed(2) %></td>
            <!-- Edit Link -->
            <td><a href="/updateProduct/<%= products[i].productId %>">Edit</a></td>
            <!-- Delete Link -->
            <td><a href="/deleteProduct/<%= products[i].productId %>" onclick="return confirm('Are you sure you want to delete this recipe?')">Delete</a></td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</body>
</html>